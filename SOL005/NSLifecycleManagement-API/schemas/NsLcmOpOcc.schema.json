{
  "description": "This type represents a request a NS lifecycle operation occurrence.  It shall comply with the provisions defined in Table 6.5.2.3-1.\n",
  "type": "object",
  "required": [
    "id",
    "operationState",
    "statusEnteredTime",
    "nsInstanceId",
    "lcmOperationType",
    "startTime",
    "isAutomaticInvocation",
    "operationParams",
    "isCancelPending",
    "_links"
  ],
  "properties": {
    "id": {
      "description": "An identifier with the intention of being globally unique.\n",
      "type": "string"
    },
    "operationState": {
      "description": "The enumeration NsLcmOperationStateType shall comply with the provisions defined in Table 6.5.4.4-1. Value | Description ------|------------ PROCESSING | The LCM operation is currently in execution. COMPLETED | The LCM operation has been completed successfully. PARTIALLY_COMPLETED | The LCM operation has been partially completed with accepTable errors. FAILED_TEMP | The LCM operation has failed and execution has stopped, but the execution of the operation is not considered to be closed. FAILED | The LCM operation has failed and it cannot be retried or rolled back, as it is determined that such action won't succeed. OLLING_BACK | The LCM operation is currently being rolled back. ROLLED_BACK | The LCM operation has been successfully rolled back, i.e. The state of the VNF prior to the original operation invocation has been restored as closely as possible.\n",
      "type": "string",
      "enum": [
        "PROCESSING",
        "COMPLETED",
        "FAILED_TEMP",
        "FAILED",
        "ROLLING_BACK",
        "ROLLED_BACK"
      ]
    },
    "statusEnteredTime": {
      "description": "Date-time when the current state was entered.\n",
      "type": "string",
      "format": "date-time"
    },
    "nsInstanceId": {
      "description": "An identifier with the intention of being globally unique.\n",
      "type": "string"
    },
    "lcmOperationType": {
      "description": "The enumeration NsLcmOpType represents those lifecycle operations that trigger a NS lifecycle management operation occurrence notification. Value | Description ------|------------ INSTANTIATE | Represents the \"Instantiate NS\" LCM operation. SCALE | Represents the \"Scale NS\" LCM operation. UPDATE | Represents the \"Update NS\" LCM operation. TERMINATE | Represents the \"Terminate NS\" LCM operation. HEAL | Represents the \"Heal NS\" LCM operation.\n",
      "type": "string",
      "enum": [
        "INSTANTIATE",
        "SCALE",
        "UPDATE",
        "TERMINATE",
        "HEAL"
      ]
    },
    "startTime": {
      "description": "Date-time of the start of the operation.\n",
      "type": "string",
      "format": "date-time"
    },
    "isAutomaticInvocation": {
      "description": "Set to true if this NS LCM operation occurrence has been automatically triggered by the NFVO. This occurs in the case of auto-scaling, auto-healing and when a nested NS is modified as a result of an operation on its composite NS. Set to false otherwise.\n",
      "type": "boolean"
    },
    "operationParams": {
      "description": "Input parameters of the LCM operation. This attribute shall be formatted according to the request data type of the related LCM operation. The following mapping between lcmOperationType and the data type of this attribute shall apply: - INSTANTIATE: InstantiateNsRequest - SCALE: ScaleNsRequest - UPDATE: UpdateNsRequest - HEAL: HealNsRequest - TERMINATE: TerminateNsRequest\n",
      "type": "string",
      "enum": [
        "INSTANTIATE",
        "SCALE",
        "UPDATE",
        "HEAL",
        "TERMINATE"
      ]
    },
    "isCancelPending": {
      "description": "If the LCM operation occurrence is in \"PROCESSING\" or \"ROLLING_BACK\" state and the operation is being cancelled, this attribute shall be set to true. Otherwise, it shall be set to false.\n",
      "type": "boolean"
    },
    "cancelMode": {
      "description": "Cancellation mode.\nThe NFVO shall not start any new VNF lifecycle management and resource management operation, and shall wait for the ongoing VNF lifecycle management and resource management operations in the underlying system, typically the VNFM and VIM, to finish execution or to time out. After that, the NFVO shall put the operation occurrence into the FAILED_TEMP state.\nThe NFVO shall not start any new VNF lifecycle management and resource management operation, shall cancel the ongoing VNF lifecycle management and resource management operations in the underlying system, typically the VNFM and VIM, and shall wait for the cancellation to finish or to time out. After that, the NFVO shall put the operation occurrence into the FAILED_TEMP state.\n",
      "type": "string",
      "enum": [
        "GRACEFUL",
        "FORCEFUL"
      ]
    },
    "error": {
      "description": "The definition of the general \"ProblemDetails\" data structure from IETF RFC 7807 [19] is reproduced inthis structure. Compared to the general framework defined in IETF RFC 7807 [19], the \"status\" and \"detail\" attributes are mandated to be included by the present document, to ensure that the response contains additional textual information about an error. IETF RFC 7807 [19] foresees extensibility of the \"ProblemDetails\" type. It is possible that particular APIs in the present document, or particular implementations, define extensions to define additional attributes that provide more information about the error. The description column only provides some explanation of the meaning to Facilitate understanding of the design. For a full description, see IETF RFC 7807 [19].\n",
      "type": "object",
      "required": [
        "status",
        "detail"
      ],
      "properties": {
        "type": {
          "description": "A URI reference according to IETF RFC 3986 [5] that identifies the problem type. It is encouraged that the URI provides human-readable documentation for the problem (e.g. using HTML) when dereferenced. When this member is not present, its value is assumed to be \"about:blank\".\n",
          "type": "string",
          "format": "URI"
        },
        "title": {
          "description": "A short, human-readable summary of the problem type. It should not change from occurrence to occurrence of the problem, except for purposes of localization. If type is given and other than \"about:blank\", this attribute shall also be provided. A short, human-readable summary of the problem type.  It SHOULD NOT change from occurrence to occurrence of the problem, except for purposes of localization (e.g., using proactive content negotiation; see [RFC7231], Section 3.4).\n",
          "type": "string"
        },
        "status": {
          "description": "The HTTP status code for this occurrence of the problem. The HTTP status code ([RFC7231], Section 6) generated by the origin server for this occurrence of the problem.\n",
          "type": "integer"
        },
        "detail": {
          "description": "A human-readable explanation specific to this occurrence of the problem.\n",
          "type": "string"
        },
        "instance": {
          "description": "A URI reference that identifies the specific occurrence of the problem. It may yield further information if dereferenced.\n",
          "type": "string",
          "format": "URI"
        }
      }
    },
    "resourceChanges": {
      "description": "This attribute contains information about the cumulative changes to virtualised resources that were performed so far by the LCM operation since its start, if applicable\n",
      "type": "object",
      "properties": {
        "affectedVnfs": {
          "description": "Information about the VNF instances that were affected during the lifecycle operation, if this notification represents the result of a lifecycle operation.\n",
          "type": "array",
          "items": {
            "description": "This type provides information about added, deleted and modified VNFs.  It shall comply with the provisions in Table 6.5.3.2-1.\n",
            "type": "object",
            "required": [
              "vnfInstanceId",
              "vnfdId",
              "vnfProfileId"
            ],
            "properties": {
              "vnfInstanceId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "vnfdId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "vnfProfileId": {
                "description": "An identifier that is unique within a NS descriptor. Representation: string of variable length.\n",
                "type": "string"
              },
              "vnfName": {
                "description": "Name of the VNF Instance.\n",
                "type": "string"
              },
              "changeType": {
                "description": "Signals the type of change Permitted values: - ADD - REMOVE - INSTANTIATE - TERMINATE - SCALE - CHANGE_FLAVOUR - HEAL - OPERATE - MODIFY_INFORMATION - CHANGE_EXTERNAL_VNF_CONNECTIVITY\n",
                "type": "string",
                "enum": [
                  "ADD",
                  "REMOVE",
                  "INSTANTIATE",
                  "TERMINATE",
                  "SCALE",
                  "CHANGE_FLAVOUR",
                  "HEAL",
                  "OPERATE",
                  "MODIFY_INFORMATION",
                  "CHANGE_EXTERNAL_VNF_CONNECTIVITY"
                ]
              },
              "changeResult": {
                "description": "Signals the result of change identified by the \"changeType\" attribute. Permitted values: - COMPLETED - ROLLED_BACK - FAILED\n",
                "type": "string",
                "enum": [
                  "COMPLETED",
                  "ROLLED_BACK",
                  "FAILED"
                ]
              },
              "changedInfo": {
                "description": "Information about the changed VNF instance information, including VNF configurable properties,if applicable. When the \"changedInfo\" attribute is present,  either the \"changedVnfInfo\" attribute or the \"changedExtConnectivity\" attribute or both shall be present.\n",
                "type": "object",
                "required": [
                  "self"
                ],
                "properties": {
                  "changedVnfInfo": {
                    "description": "This type represents the information that is requested to be modified for a VNF instance. The information to be modified shall comply with the associated NSD. EXAMPLE. The vnfPkgId attribute value for a particular VNF instance can only be updated with a value that matches the identifier value of a VNF package whose vnfdId is present in the associated profile of the NSD.\n",
                    "type": "object",
                    "required": [
                      "vnfInstanceId"
                    ],
                    "properties": {
                      "vnfInstanceId": {
                        "description": "An identifier with the intention of being globally unique.\n",
                        "type": "string"
                      },
                      "vnfInstanceName": {
                        "description": "New value of the \"vnfInstanceName\" attribute in \"VnfInstance\", or \"null\" to remove the attribute.\n",
                        "type": "string"
                      },
                      "vnfInstanceDescription": {
                        "description": "New value of the \"vnfInstanceDescription\" attribute in \"VnfInstance\", or \"null\" to remove the attribute.\n",
                        "type": "string"
                      },
                      "vnfPkgId": {
                        "description": "An identifier with the intention of being globally unique.\n",
                        "type": "string"
                      },
                      "vnfConfigurableProperties": {
                        "description": "This type represents a list of key-value pairs. The order of the pairs in the list is not significant. In JSON, a set of key- value pairs is represented as an object. It shall comply with the provisions  defined in clause 4 of IETF RFC 7159. \n",
                        "type": "object"
                      },
                      "Metadata": {
                        "description": "This type represents a list of key-value pairs. The order of the pairs in the list is not significant. In JSON, a set of key- value pairs is represented as an object. It shall comply with the provisions  defined in clause 4 of IETF RFC 7159. \n",
                        "type": "object"
                      },
                      "Extensions": {
                        "description": "This type represents a list of key-value pairs. The order of the pairs in the list is not significant. In JSON, a set of key- value pairs is represented as an object. It shall comply with the provisions  defined in clause 4 of IETF RFC 7159. \n",
                        "type": "object"
                      }
                    }
                  },
                  "changedExtConnectivity": {
                    "type": "object",
                    "required": [
                      "id",
                      "resourceHandle"
                    ],
                    "properties": {
                      "id": {
                        "description": "An identifier with the intention of being globally unique.\n",
                        "type": "string"
                      },
                      "resourceHandle": {
                        "required": [
                          "vimConnectionId",
                          "resourceId"
                        ],
                        "type": "object",
                        "description": "This type represents the information that allows addressing a virtualised resource that is used by a VNF instance. Information about the resource is available from the VIM.\n",
                        "properties": {
                          "vimConnectionId": {
                            "description": "An identifier with the intention of being globally unique.\n",
                            "type": "string"
                          },
                          "resourceProviderId": {
                            "description": "An identifier with the intention of being globally unique.\n",
                            "type": "string"
                          },
                          "resourceId": {
                            "description": "An identifier maintained by the VIM or other resource provider. It is expected to be unique within the VIM instance.\n",
                            "type": "string"
                          },
                          "vimLevelResourceType": {
                            "description": "Type of the resource in the scope of the VIM or the resource provider.\n",
                            "type": "string"
                          }
                        }
                      },
                      "extLinkPorts": {
                        "description": "Link ports of this VL.\n",
                        "type": "array",
                        "items": {
                          "description": "This type represents information about a link port of an external VL, i.e. a port providing connectivity for the VNF to an NS VL. \n",
                          "type": "object",
                          "required": [
                            "id",
                            "resourceHandle"
                          ],
                          "properties": {
                            "id": {
                              "description": "An identifier with the intention of being globally unique.\n",
                              "type": "string"
                            },
                            "resourceHandle": {
                              "required": [
                                "vimConnectionId",
                                "resourceId"
                              ],
                              "type": "object",
                              "description": "This type represents the information that allows addressing a virtualised resource that is used by a VNF instance. Information about the resource is available from the VIM.\n",
                              "properties": {
                                "vimConnectionId": {
                                  "description": "An identifier with the intention of being globally unique.\n",
                                  "type": "string"
                                },
                                "resourceProviderId": {
                                  "description": "An identifier with the intention of being globally unique.\n",
                                  "type": "string"
                                },
                                "resourceId": {
                                  "description": "An identifier maintained by the VIM or other resource provider. It is expected to be unique within the VIM instance.\n",
                                  "type": "string"
                                },
                                "vimLevelResourceType": {
                                  "description": "Type of the resource in the scope of the VIM or the resource provider.\n",
                                  "type": "string"
                                }
                              }
                            },
                            "cpInstanceId": {
                              "description": "An identifier that is unique for the respective type within a VNF instance, but may not be globally unique.\n",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "affectedPnfs": {
          "description": "Information about the PNF instances that were affected during the lifecycle operation, if this notification represents the result of a lifecycle operation.\n",
          "type": "array",
          "items": {
            "description": "This type provides information about added, deleted and modified PNFs.  It shall comply with the provisions in Table 6.5.3.3-1.\n",
            "type": "object",
            "required": [
              "pnfId",
              "pnfdId",
              "pnfProfileId",
              "cpInstanceId"
            ],
            "properties": {
              "pnfId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "pnfdId": {
                "description": "An identifier that is unique within a NS descriptor. Representation: string of variable length.\n",
                "type": "string"
              },
              "pnfProfileId": {
                "description": "An identifier that is unique within a NS descriptor. Representation: string of variable length.\n",
                "type": "string"
              },
              "pnfName": {
                "description": "Name of the PNF.\n",
                "type": "string"
              },
              "cpInstanceId": {
                "description": "Identifier of the CP in the scope of the PNF.\n",
                "type": "array",
                "items": {
                  "description": "Identifier of the CP in the scope of the PNF.\n",
                  "type": "string"
                }
              },
              "changeType": {
                "description": "Signals the type of change. Permitted values: - ADD - REMOVE - MODIFY\n",
                "type": "string",
                "enum": [
                  "ADD",
                  "REMOVE",
                  "MODIFY"
                ]
              },
              "changeResult": {
                "description": "Signals the result of change identified by the \"changeType\" attribute. Permitted values: - COMPLETED - ROLLED_BACK - FAILED\n",
                "type": "string",
                "enum": [
                  "COMPLETED",
                  "ROLLED_BACK",
                  "FAILED"
                ]
              }
            }
          }
        },
        "affectedVls": {
          "description": "Information about the VL instances that were affected during the lifecycle operation, if this notification represents the result of a lifecycle operation.\n",
          "type": "array",
          "items": {
            "description": "This type provides information about added, deleted and modified VLs.  It shall comply with the provisions in Table 6.5.3.4-1.\n",
            "type": "object",
            "required": [
              "nsVirtualLinkInstanceId",
              "nsVirtualLinkDescId",
              "vlProfileId"
            ],
            "properties": {
              "nsVirtualLinkInstanceId": {
                "description": "An identifier that is unique with respect to a NS.  Representation: string of variable length.\n",
                "type": "string"
              },
              "nsVirtualLinkDescId": {
                "description": "An identifier that is unique within a NS descriptor. Representation: string of variable length.\n",
                "type": "string"
              },
              "vlProfileId": {
                "description": "An identifier that is unique within a NS descriptor. Representation: string of variable length.\n",
                "type": "string"
              },
              "changeType": {
                "description": "Signals the type of change. Permitted values: - ADD - DELETE - MODIFY - ADD_LINK_PORT - REMOVE_LINK_PORT\n",
                "type": "string",
                "enum": [
                  "ADD",
                  "DELETE",
                  "MODIFY",
                  "ADD_LINK_PORT",
                  "REMOVE_LINK_PORT"
                ]
              },
              "changeResult": {
                "description": "Signals the result of change identified by the \"changeType\" attribute. Permitted values: - COMPLETED - ROLLED_BACK - FAILED\n",
                "type": "string",
                "enum": [
                  "COMPLETED",
                  "ROLLED_BACK",
                  "FAILED"
                ]
              }
            }
          }
        },
        "affectedVnffgs": {
          "description": "Information about the VNFFG instances that were affected during the lifecycle operation, if this notification               represents the result of a lifecycle operation. See note\n",
          "type": "array",
          "items": {
            "description": "This type provides information about added, deleted and modified VNFFG instances.  It shall comply with the provisions in Table 6.5.3.5-1.\n",
            "type": "object",
            "required": [
              "vnffgInstanceId",
              "vnffgdId"
            ],
            "properties": {
              "vnffgInstanceId": {
                "description": "An identifier that is unique with respect to a NS.  Representation: string of variable length.\n",
                "type": "string"
              },
              "vnffgdId": {
                "description": "An identifier that is unique within a NS descriptor. Representation: string of variable length.\n",
                "type": "string"
              },
              "changeType": {
                "description": "Signals the type of change. Permitted values: - ADD - DELETE - MODIFY\n",
                "type": "string",
                "enum": [
                  "ADD",
                  "DELETE",
                  "MODIFY"
                ]
              },
              "changeResult": {
                "description": "Signals the result of change identified by the \"changeType\" attribute. Permitted values: - COMPLETED - ROLLED_BACK - FAILED\n",
                "type": "string",
                "enum": [
                  "COMPLETED",
                  "ROLLED_BACK",
                  "FAILED"
                ]
              }
            }
          }
        },
        "affectedNss": {
          "description": "Information about the nested NS instances that were affected during the lifecycle operation, if this notification represents the result of a lifecycle operation. See note.\n",
          "type": "array",
          "items": {
            "description": "This type provides information about added, deleted and modified nested NSs.  It shall comply with the provisions in Table 6.5.3.6-1.\n",
            "type": "object",
            "required": [
              "nsInstanceId",
              "nsdId"
            ],
            "properties": {
              "nsInstanceId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "nsdId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "changeType": {
                "description": "Signals the type of lifecycle change. Permitted values: - ADD - REMOVE - INSTANTIATE - SCALE - UPDATE - HEAL - TERMINATE\n",
                "type": "string",
                "enum": [
                  "ADD",
                  "REMOVE",
                  "INSTANTIATE",
                  "SCALE",
                  "UPDATE",
                  "HEAL",
                  "TERMINATE"
                ]
              },
              "changeResult": {
                "description": "Signals the result of change identified by the \"changeType\" attribute. Permitted values: - COMPLETED - ROLLED_BACK - FAILED - PARTIALLY_COMPLETED           \n",
                "type": "string",
                "enum": [
                  "COMPLETED",
                  "ROLLED_BACK",
                  "FAILED",
                  "PARTIALLY_COMPLETED"
                ]
              }
            }
          }
        },
        "affectedSaps": {
          "description": "Information about the nested NS instances that were affected during the lifecycle operation, if this notification represents the result of a lifecycle operation. See note.\n",
          "type": "array",
          "items": {
            "description": "This type provides information about added, deleted and modified SAP of a NS.  It shall comply with the provisions in Table 6.5.3.7-1.\n",
            "type": "object",
            "required": [
              "sapInstanceId",
              "sapdId"
            ],
            "properties": {
              "sapInstanceId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "sapdId": {
                "description": "An identifier with the intention of being globally unique.\n",
                "type": "string"
              },
              "sapName": {
                "description": "Human readable name for the SAP.\n",
                "type": "string"
              },
              "changeType": {
                "description": "Signals the type of lifecycle change. Permitted values: - ADD - REMOVE - MODIFY\n",
                "type": "string",
                "enum": [
                  "ADD",
                  "REMOVE",
                  "MODIFY"
                ]
              },
              "changeResult": {
                "description": "Signals the result of change identified by the \"changeType\" attribute. Permitted values: - COMPLETED - ROLLED_BACK - FAILED\n",
                "type": "string",
                "enum": [
                  "COMPLETED",
                  "ROLLED_BACK",
                  "FAILED"
                ]
              }
            }
          }
        }
      }
    },
    "_links": {
      "description": "Links to resources related to this resource.\n",
      "type": "object",
      "required": [
        "self",
        "nsInstance"
      ],
      "properties": {
        "self": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        },
        "nsInstance": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        },
        "cancel": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        },
        "retry": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        },
        "rollback": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        },
        "continue": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        },
        "fail": {
          "description": "This type represents a link to a resource.\n",
          "type": "object",
          "required": [
            "href"
          ],
          "properties": {
            "href": {
              "description": "URI of the referenced resource.\n",
              "type": "string",
              "format": "url"
            }
          }
        }
      }
    }
  }
}